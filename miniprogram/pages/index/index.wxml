<!--index.wxml-->
<view class="container">
  <!-- æœç´¢æ¡† -->
  <view class="search-box">
    <input 
      class="search-input" 
      placeholder="ğŸ” æœç´¢äº§å“æˆ–ç‰©æ–™..."
      value="{{searchKeyword}}"
      bindinput="onSearchInput"
    />
  </view>
  
  <!-- ç»“æœåˆ—è¡¨ï¼ˆåªåœ¨æœ‰æœç´¢å…³é”®è¯æ—¶æ˜¾ç¤ºï¼‰ -->
  <view wx:if="{{searchKeyword}}" class="result-list">
    <!-- äº§å“é¡¹ -->
    <view 
      wx:for="{{productResults}}" 
      wx:key="_id"
      class="result-item product-item"
      bindtap="goToProductDetail"
      data-item="{{item}}"
    >
      <view class="item-icon">â˜•</view>
      <view class="item-content">
        <view class="item-name">{{item.name}}</view>
        <view class="item-cost">ğŸ’° æˆæœ¬ï¼šÂ¥{{item.totalCost}}</view>
      </view>
      <view class="item-arrow">></view>
    </view>
    
    <!-- ç‰©æ–™é¡¹ -->
    <view 
      wx:for="{{materialResults}}" 
      wx:key="_id"
      class="result-item material-item"
      bindtap="goToMaterialDetail"
      data-item="{{item}}"
    >
      <view class="item-icon">ğŸ¥›</view>
      <view class="item-content">
        <view class="item-name">{{item.name}}</view>
        <view class="item-spec">
          ğŸ“¦ {{item.spec_amount}}{{item.spec_unit}} / Â¥{{item.spec_price}}
        </view>
        <view class="item-unit-cost">
          ğŸ’µ å•ä½æˆæœ¬ï¼šÂ¥{{item.unitPrice}}/{{item.spec_unit}}
        </view>
      </view>
      <view class="item-arrow">></view>
    </view>
    
    <!-- æ— ç»“æœæç¤º -->
    <view wx:if="{{hasNoResult && !isSearching}}" class="no-result">
      <text class="no-result-text">ğŸ˜” æœªæ‰¾åˆ°ç›¸å…³ç»“æœ</text>
      <text class="no-result-hint">è¯·å°è¯•å…¶ä»–å…³é”®è¯æœç´¢</text>
    </view>
  </view>
</view>
